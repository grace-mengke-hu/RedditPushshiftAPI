How do you handle a relapse?

So, I've been pretty proud of myself for going 2 weeks smoke-free and thought this time I was free and clear. 

Fast forward to one uneventful evening when I was drinking with a friend and had few cigs. I then got the pack that was left behind, which I knew would eventually seduce me, and had few other evenings when libations were involved, leading to consumption of few more cigs. 

So, all in all - I had about 3 occasions of 2-3 cigs when I relapsed. Considering that previously I'd be back on the pack buying wagon after such relapse, I'm relatively less ashamed, since I didn't do full relapse. 

What scares me is how easy it is to fall off the quit wagon. I told myself that I'm not going full relapse - just a cig or two, but next day woke up craving more. Resumed Welbutrin + Lozenges and seem to be OK now, but so ashamed I fell off yet again. Even though I got up one time more than I fell. So, how do you work through these moments