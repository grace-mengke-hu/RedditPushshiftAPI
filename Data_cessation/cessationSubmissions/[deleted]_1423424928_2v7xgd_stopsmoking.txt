Dealing with social situations

So, I've been a performing musician for about 10 years. For the past 5 years, I would smoke a cig before every set, and I would smoke one after. If I felt nervous talking to people afterwords, I would go outside and smoke. Last night was my first gig since I quit, and my GF brought some friends with her. I couldn't talk to them. I knew I was being an asshole (or, I thought I was) but I couldn't stop it. It's like, everything that was coming out of their faces was unnecessary nonsense, and I was really annoyed. Normally I would be able to navigate that, and just spit out the appropriate response. I think I offended her friends a bit. They know I'm trying to quit, but they really have no idea what it's like to deal with the mental split that occurs when you're battling triggers. 

Also... I have been really down on myself the past few days. My GF has been incredibly supportive, but I don't like that she has to see this shell of a dude who can't be confident in a room of people anymore. I just hope that stuff goes away and I can just have fun with people again. 