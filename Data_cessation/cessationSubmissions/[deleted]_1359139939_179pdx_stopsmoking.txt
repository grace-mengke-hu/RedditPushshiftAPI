I gave up guys. Im sorry

I've been a smoker for the past two years (i'm a 18 year old male), and last summer i met this great girl. She was always really happy, pretty and also is very popular in my highschool. I never really thought too much about it, but in oktober we became suddenly good friends. Still didnt think much about it, but then her mother past away because of breastcancer. We became even better friends, and i was always there for her. I slowely fell in love with her, and i know she also liked me in a non-frienshipway. We started hanging out a lot, and watched some movies together. Because of her stories about how hard it is too lose your parent because of cancer, i decided that i wanted to stop smoking. I wanted not to be the parent who will let down a girl like her. So i quitted two weeks ago, but suddenly there also was this other guy; a guy who is a year older then i am, and also much more popular. But still, things went really smooth between me and her. Until i heard yesterday that the two of them kissed while ice-skating, and it almost made me vomit. Also, seeing that i'm in my last year of one of the hardest highschools in my country (i'm Dutch, so there is a difference in highschool education) the stress became too much. So this afternoon i bought a pack and smoked it all in a couple of houres. I feel like shit because of all these things together. I tried, and i will try giving up again as soon as i'm over her. I feel like i've let you all down, and i wish you all the best of luck.