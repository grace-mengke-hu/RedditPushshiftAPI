How do you pass nervousyty

Hi, it‘s no problem for me to stop smoking except when I am nervous or have a problem to handle with. That‘s when I buy zigs and Smoke one though I don‘t want to..., 

What do you do in such a situation so you don‘ t buy and smoke them? 