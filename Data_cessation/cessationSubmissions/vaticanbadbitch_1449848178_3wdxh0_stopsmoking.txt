I had been doing so well without cigarettes, but I relapsed and now I need advice..

I had done so well with my ventures in being a non-smoker for the past few weeks. I had gone from easily a pack and a half a day for the past 2 and a half years, to virtually no cigarettes at all. The only exception was when I was drinking, then I would allow myself one or two. I haven't given up nicotine yet; I started using a vape to quit cigarettes, but I have tapered down from 24mg nicotine to 6mg nicotine in just a few short weeks. I've been so proud of myself, because I figured I would be a smoker forever, all due to a horrible habit I picked up as an easy way to meet people my freshman year of college. But I've relapsed this week and bought 2 packs of cigarettes.. Finals week just stresses me out so much and there's something comforting and familiar about lighting up a joe and puffing on it while I study for my exams or as a rewarding treat during a study break during my long nights at the library. 

Does anyone have any advice for kicking this addiction during extremely stressful times such as this? I'm just so tired of feeling weak and like a failure during the quitting process...