I want to quit but can't because of this

Every time I am in the process of quitting I start coughing a lot. I cough so much that it can make me throw up and keep me awake. I've tried a lot of meds, but nothing works. I went to see the pulmonologist, I did tests at the hospital but I couldn't find a solution. What can I do?