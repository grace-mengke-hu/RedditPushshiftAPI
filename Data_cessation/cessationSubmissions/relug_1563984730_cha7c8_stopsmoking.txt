My Biggest Fear is Loosing Someone, That's Why I Can't Quit

I can't quit smoking. I tried 1000 times but I can't. When I decide to quit I know I can handle every future scenario or danger or trigger but this thought come to my mind quickly: What will you do when you lose someone in your family or friend. How can you cope with this kind of pain and stress...

Is this a psychological problem? To cope with bad situations, harm yourself... How can I solve this?

Please help me guys. I know there are many smokers that have this kind of fears.