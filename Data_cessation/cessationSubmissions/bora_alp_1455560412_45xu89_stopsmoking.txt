I'm struggling and need your help

Hello everyone, I stopped smoking cigarettes a week ago by listening to Allen Carr and spending some time on http://whyquit.com/. I'm having social problems in my life at the moment and after 40 minutes of mental fight with the nicotine monster, I lost. I smoked a cigarette today, I quite enjoyed it while smoking but then as soon as I finished it, I burst into tears because I felt guilty.

I don't want to smoke at the moment but how can I prevent thinking about cigarettes everytime I have difficulties in my life, please help me.