Lost it when I caught my partner smoking

know this is is stopsmoking and not a relationship sub but I have something to get off my chest. Maybe someone has some insight for me.  


I stopped smoking three weeks ago. I'd been a serial quitter for many years. I had been smoke free for six months thanks to this great sub but ended up caving and smoking my partner's cigarettes some time in spring, smoking on an off, finally becoming a regular smoker in summer.  

  

My partner had said a few times that she'd like to stop but wasn't ready. In fact we made a pact that if I lost 10 kilos (22lbs) she'd give up smoking. (My idea and insistence really, to motivate myself) I've been doing well, have lost 3 kilos (7lbs) in 2 months.    


Just as I was getting over the worst of the withdrawal, I found out that they'd discovered a mass on my stepdad's lung. The first tests showed no cancerous cells, but it turns out that this was from throat cells and not the tumour. They did a biopsy on the tumour on Wednesday and are awaiting the results. My mum and stepdad are living in a country where they don't speak the language, and both seem to have taken the throat results as a sign there's no cancer when the likelihood is that there is. I'm not sure whether to tell them the full story or let them spend a week and a half in happy ignorance.   



The day of the biopsy my partner surprised me, saying she was giving up smoking. I was delighted and did everything I could to support her. I prepared a special meal, spoiled her with massages and so on. Last night she managed to go 72 hours without smoking.....and then smoked. 

We were out last night and I caught her, after she'd pretended to go to the toilet then sneaked outside. A friend of hers who I had met that night had given her a cigarette. They both reacted by joking a bit, she said sorry with a grin and her friend was giggling a bit.  



Well I just lost it. Told her she'd just got over the worst, stared her friend dead in the eye and told her she I hoped she was happy. I went back inside, vented a bit to another friend who told me not to be angry, that it was hard, to be understanding, but it was no use. I waited til my partner and her friend sloped back in and stormed home. Spent the whole walk home angry-crying, made up the bed in the spare room and did everything I could to hide the fact I'd returned. I sneaked out this morning (it's 930am here). I can't really explain this behaviour, except it's from a desire to punish her by making her worry that I didn't go home last night for whatever reason.  



This is totally crappy behaviour on my part I know.  And massively hypocritical given how many times I've tried and failed to stop smoking (must be heading for three digits). Still though, when I see her smiling and her friend giggling and it makes me mad as hell.  



I'm not sure where all this anger has come from, how much is from worrying about her health, how much is because of a warped idea that this means she's treating my stepdad's illness as a joke, how much is fear that I'll fail again if she does or maybe something else.  



Any suggestions or advice appreciated.  Or if you just want to point out that I'm a dick, that's fine too.  



Tl;dr I reacted really badly to my partner smoking and am still really angry.  May be related to my stepdad's lung cancer scare. 



Edit/update:  After I got this all of my chest I went back and apologised. She was really understanding and said that because I thought she was doing for me, I took her caving personally, when really she was doing it most of all for herself, which as many said, is how it has to be. 

We're all good now and she hasn't smoked at all today. We've decided not to go out drinking until we're both feeling a bit more steady in the no smoking. Thanks for your thoughts. 