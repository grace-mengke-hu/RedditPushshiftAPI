Slowly relapsing and I could use some advice.

I quit smoking on the 23rd of July. I was free for 30 days. My sister celebrated her birthday last weekend and I smoked. Since then I have been telling myself I am after failing and should start fresh tomorrow, after another cigarette. I haven't smoked much but I have been smoking. Slowly reeling back into the nasty habit. I know I can do it, but I feel like I lost my will to quit. I feel horrible and disappointed every time I smoke yet and say, that's it, back to being free but it niggles away and I get another a few hours later. My friends smoke pot often, and use tobacco, as do I. I thought I could just use it with pot, but it keeps the cravings alive. 
I know I have to stop smoking again, but it just seems all so daunting going through these first few days again. I wish I didn't smoke as it wouldn't have led me back here, but I just had one no less than 10 minutes ago. 

I'm feeling lost and not in control. Help!?