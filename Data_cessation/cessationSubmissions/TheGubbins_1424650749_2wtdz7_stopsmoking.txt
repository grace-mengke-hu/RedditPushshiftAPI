How do you avoid relapsing when going out?

I'd gone a month before going to a gig last night and sponging cigs off people. Anyone have any tips for not getting back into old habits this way?