Today will be my day one, how can I ensure it sticks forever?

I have quit time after time got a couple weeks at a time but always cave when I'm with my old smoking friends. It's like I lose control and my body does it anyway.

I would really like to stop smoking for good, if anyone has any advice so I can still see my smoker friends and family without failing? 

Also when you quit, did you announce it? Or keep it to yourself? Not sure what would be best.

Thank You :)