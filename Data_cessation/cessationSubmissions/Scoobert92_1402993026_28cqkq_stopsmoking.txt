I'm an asshole. Please help me.

I fucked up. No good reason, Just stressed I guess, new job, everyone smokes. 20 days in and I couldn't take my own advice. In the past I've made it 6 months before but I still went back because I just felt like I was resisting the urge to smoke the whole time. Sometimes my will is strong but sometimes I don't know where it goes, and worst of all I don't know where to get the willpower when I don't have it. Why can't I quit? I don't know if it's better to feel guilty about it or just move on? I will continue trying to quit nonetheless,