How to quit

I smoke roughly a pack a day (wake up with a half pack, stop and get a new pack on my way to work). I know smoking is bad for me, but maybe I just need to rewire my brain somehow. 

What I'm looking for is those who have quit successfully, how did you go about it? What do I need to do to stop? It's not just a wanting thing, but I need to have surgery and my doc told me I have to quit to have the procedure.