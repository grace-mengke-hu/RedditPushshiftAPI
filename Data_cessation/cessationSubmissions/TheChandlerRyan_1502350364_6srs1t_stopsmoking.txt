Need advice

To start this off I'll fill in a little back ground information. I'm 26. I smoked on and off again in high school but never enough to even bring up really. But I started a factory job here in my hometown and and rekindled a lost high school friendship just two years after school. That's when I started smoking again. Since then I've smoked probably at least a couple grams a day. For almost 6 years. I've since left the factory job and work at Walmart barely scrapping by in bills and schools supplies for my two daughter (4&6) and have been desperately trying to stop smoking. Not just for a better job but to become a better dad instead of sinking into the couch playing video games. I stopped buying weed but my buddy always has some and often smokes me up on our lunch break. I never thought of weed as being any form of addicting but I'm having so much trouble quitting. I cut back to just a few times a month and have now been smoke free for about a week. My wife thinks I've been smoke free for about a month. I feel so awful and usually can't sleep over all this. Am I being over dramatic? Does anyone have any helpful tips to quit or even just some words of encouragement? I'm really struggling over something that seems so trivial. I'm sorry for such a long post and even if no one reads this I do feel better just saying all of this. But I could really use some pointers. I'm not really the type to ask my family. I want them to think of me as strong willed. Thank you to any who reads this. I hope all of you have a great day/night. 

Edit: just ignore any misspellings or grammatical errors please