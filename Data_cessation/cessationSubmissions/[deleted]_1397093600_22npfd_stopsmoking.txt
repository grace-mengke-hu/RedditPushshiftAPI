Need help, can't control myself

Heavy smoker for more than 10 years. I just can't quit. I've a bad cough and sometimes Smoking just make me nauseated. My trhoat is always sore the breath always short. I just can't quit. Whenever I decide i have enough of this shit and that i've smoked my last cigarette, after five hours or so i find myself buying a new pack. I've read Carr's book five or six years ago and it helped me quit for about three weeks... I don't think that reading it again would help much. 
This is ridiculous. I don't even enjoy cigarettes anymore buy I still smoke one pack a day. I mean... Maybe I enjoy four or five of the twenty cigarettes that I smoke in a day. 
I know this post is just a rant buy I'm really getting sick (mentally and phisically) of this situation. It's a shitty period of my life and i need to make some changes..
What do you do to stop yourself when you feel the urge to go buy a pack? 
