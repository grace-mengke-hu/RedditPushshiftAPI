Want to quit smoking but cant cause of meds

So to start i smoke almost for 7 years and i have the desire to quit since 2 or 3 years. And this last summer i start trying to quit, i did two weeks without smoking but then i would start again, and by this time after i start to feel anxiety, this kind of anxiety that stay with you all day long, hard breathing, pain in the chest and heavy headhaches. i didnt really knew why it started an i started to smoke even two times more than before. So at this point i knew i had to do something i was really not ok. i quit school, and i tryed to find help. when i choose to draw school this year i had a huge goal in my mind, just quit smoking. i was worried i had some mental disorder cause of the anxiety so i looked for a psychologist, which lead me to no real help than prescriving me some meds to calm down my anxiety and she said i couldnt quit somoking now because of the nicotine withdrawal so i had to try smoking less without really stoping smoking. The problem is that the meds she gave me dindt calm down my anxiety, at least not some times in the day, wich makes me smoke harder. i knew i wouldnt be able to do it, not at that time. i focused on create some routine, and self development. but still wasnt enough, what i wouldnt smoke during the day i would compensate it during the night. I quit  the psychologist witch wanst making nothing that i couldnt do by myself and i saw a doctor, she prescrived me more meds and said me the same thing about quitting smoke, but it manage to calm down my anxiety and now im stable. I have to reduce... So i really wanted some feedback of you guys, if someone really made it quit by reducing smoke to 8 cig a day, or some tips you can give me