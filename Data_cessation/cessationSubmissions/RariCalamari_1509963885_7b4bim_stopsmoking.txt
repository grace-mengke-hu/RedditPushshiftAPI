I can stop the urges when sober, but always fuck up when on something

"Stopped" smoking almost 3 weeks ago and usually Im doing great.

Not when I drink though, I can handle 1-2 beers without a smoke but when Im getting buzzed the cravings hit me so hard. I feel physically uncomfortable. This keeps me from going more than 3-4 consecutive days without smoking. I was taking E this weekend too and I managed to smoke an entire pack in ~8 hours.

I dont want to start vaping because that seems expensive but I have no clue what to do with myself when drunk, got any tips?