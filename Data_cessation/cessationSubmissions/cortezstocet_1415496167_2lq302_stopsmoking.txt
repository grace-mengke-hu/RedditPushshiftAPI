Backsliding

After picking up a smoking habit in university, I made a pact earlier this year to stop smoking with a good friend of mine. I made it about 7 months before drunkenly having a cigarette after a fairly heavy conversation with someone. Since then I've had another three cigarettes and I find myself being able to justify it once again. I want to stop smoking because I don't like the idea of myself as a smoker and it's an identity I don't want to be able to have. Help!