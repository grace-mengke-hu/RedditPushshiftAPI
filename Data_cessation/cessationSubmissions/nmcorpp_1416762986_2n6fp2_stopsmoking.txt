Need some encouragement, veered off course

After a week of being smoke free (I had just one a week ago and before that I was 3 weeks smoke free), I went into a convenience store to pick up some eye drops and BOOM... I bought a pack...It's as if my willpower disappeared, it was automatic. I smoked 2, and want to give it away to my friend, but can someone give me some advice to avoid this? Maybe some words of encouragement? I feel really guilty and disappointed with myself. Thanks for the help.