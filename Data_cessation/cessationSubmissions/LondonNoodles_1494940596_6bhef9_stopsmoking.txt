It's time to stop, I feel so stupid, please help!

So, I think I had posted here in the past few years but then I've taken up smoking again.

I had quit more than a year ago from "casual/frequent smoking" because (thanks) to a beautiful girlfriend who said she disliked the smell. I didn't even think twice, as soon as she said that I thought "woop, cigarettes and lighters in the bin, don't even look back". I thought it was a good thing at the time, but the backlash came when we separated, and then I started smoking again like a fucking steam machine.

It's been 8 months now, and I smoke at least a pack a day, and it's destroying me on so many levels. First of all, I do a lot of sports, and I can tell I'm hitting a brick wall in terms of performance limits, it's getting frustrating.
Now in terms of money, FUCKING HELL HOW CAN I BE SO DUMB.

Do the maths, a pack of cigarettes costs £10 in London. £10 a day! That's £300 a month....£3600 A YEAR. I'm basically losing 1.5 month salary on this crap that's giving me yellow teeth, bad breath, bad smell, and possibly cancer. Why????

I consider myself a fairly intelligent person regarding other aspects of my life, I'm very independent, I'm a senior software engineer, I give lectures, I've published papers in prestigious science journals and presented at conferences, and still, when someone asks me why I smoke, I feel completely stupid. I can't give a single good reason apart from "eeehh I like the feeeeling".

It's affected my personality also. I sometimes get very sad for no reason, or very angry for silly things, when I used to be so happy and amused by everything. I even have a patch of white hair growing!

So now it's time to stop. I am getting a fairly heavy back surgery next week for unrelated issues, and I've been told smokers recover much more slowly, so whether it being true or not, even the placebo effect is a good incentive.

Sorry for the very egocentric post but it makes me feel good to release the shame on here. Because yes, that's the worst part about smoking, it's the one thing in my life that I am ashamed of.

Thank you for your support friends, and well done to everyone who has the courage to go through this, I hope to be amongst you!