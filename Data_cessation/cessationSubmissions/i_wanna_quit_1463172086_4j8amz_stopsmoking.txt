Ways to help quit mentally? ADHD medication makes it worse...

Hey guys... I'm trying to quit smoking for good. 24 years old, been smoking since 17. I'm going to be engaged soon and me and my girlfriend are trying to quit before that happens. I'm about to smoke what is supposed to be my last cigarette. 

The problem is I'm taking vyvanse and it makes it so much more difficult... I quit about a year ago and went a good while without smoking. I'm prescribed vyvanse and I wasn't taking it when I had quit before, but since I only have about a year left of classes I started taking it again and it brought back the urge to smoke and I started buying packs again a few months ago. My GF thinks I've quit and she doesn't know I've been smoking the past few months and I feel horrible about it.

Is there a good way mentally to quit? Do y'all have any advice? Please note: **I do not want to quit taking vyvanse, as it raised my grades about a letter score for each class overall** so that is not an option... Any advice y'all could give would be greatly appreciated!