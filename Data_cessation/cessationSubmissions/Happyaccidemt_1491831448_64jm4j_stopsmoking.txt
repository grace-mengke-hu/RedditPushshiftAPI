What to do when you slip up?

I've been a smoker for over 2 years now and recently decided that I wanted to quit, well I think that's been the decision since I started but I recently acted on it and haven't smoked in a few months. What I'm finding hard is slip ups every so often, especially when I have a drink, and the feeling of defeat I get everytime it's almost like I regret it as soon as I take the first drag but I still end up finishing the whole cigarette. Im wondering how you all deal with this and how to get get my drunk self to also give up smoking I thought about a vape but can't afford one at the moment and even if I could I know I'll start vaping casually through the day which I also don't want. Any help would be appreciated.