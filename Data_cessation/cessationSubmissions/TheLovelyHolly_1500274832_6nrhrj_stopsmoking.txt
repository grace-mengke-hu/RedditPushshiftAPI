I relapsed. Got any advice?

Ok, so 5 months ago, I lost my job for excessive smoke breaks. I'm not kidding. My boss literally told me that she couldn't work with me because I smoked too much. Those evil little rolls of tobacco really have ruined my life, but that's not the point of this post. 

The point is, I've been out of work for 5 months and I finally found a new job, but because I'm having a hard time getting back into the swing of things, I've been smoking for the past three days. Not much, maybe 3 or 4 a day, but I don't want to be smoking AT ALL, so it's not good for me to be having even one. 

I feel like a failure, to be honest. Everyone I know has been so proud of me for quitting and I feel like I've let them down. I'm also really mad at myself for letting myself mess up like this. I need to get back on track. I don't want to go back to smoking. Does anyone have any advice for handling a relapse or how to keep it from happening again? 