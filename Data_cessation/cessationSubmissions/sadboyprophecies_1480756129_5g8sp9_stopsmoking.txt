Relapse after about 4 years clean

I think I am writing this for no other reason then to just vent and maybe get some supportive feedback. 

I have quit smoking almost 4 years ago. Today I had a cigarette out of the blue and gave in so easily. I didn't enjoy it really at all. But I am usually hard on myself and I can't stop the self loathing. I can't stop beating myself over it to the point that its getting in the way. I am so disappointed in myself I don't know what to do.