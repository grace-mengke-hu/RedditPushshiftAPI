Struggling with Quitting Smoking- Advice?

Hi All, first time posting on reddit so bare with me. I recently had a bit of a health scare that has really opened my eyes to what I am doing to my body by smoking and I know I need to quit. I know this.

The problem is, I keep letting the urge overpower my common sense. I know I shouldn’t be smoking, I know what it does to me, I know what it will do to me, but it doesn’t seem to matter. I have been smoking on and off at different intensities for about 13 years. My parents smoked around me all my life and it was just a normal thing growing up. For the past 6 months, I’ve gotten up to about 8 a day. I think it is mostly routine, I get cravings sometimes but I find it’s really the routine of smoking that draws me in (e.g. morning coffee, after work, etc.). I tried quitting about 3 weeks ago, lasted about 4 days and relapsed. Since then I have slowly made it back up to around 8 a day. I am so discouraged, and I am SO disappointed in myself. I’m also scared that this will be the rest of my life. 

My question is, how do you guys deal with quitting, relapsing, etc.? How do you get out of that routine that makes you want to smoke? It’s almost uncontrollable for me. I hate being a slave to these things and I don’t want this for myself anymore. To a point though, I think I do enjoy it. That’s the other problem, part of me will always be a smoker and will always want to smoke. I’m so lost.. any advice or even just sharing a similar experience would really help!! I feel so alone because no one I know even really knows I smoke, it’s not something I am proud of. I think that makes it even harder to quit... when the only accountability is to myself. Historically, I’m not great at keeping promises to myself.