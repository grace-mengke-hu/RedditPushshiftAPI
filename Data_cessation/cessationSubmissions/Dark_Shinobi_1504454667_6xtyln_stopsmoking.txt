I've tried everything

This is going to be a bit long so bare with me.

I (f/26) started smoking when I was 18 and I had just joined the Army. There I met Sam (not her real name) (f/33) and we've been best friends ever since ( almost 10 years).

Now we're roommates and both of us attend college. I've tried to quit smoking about 5 times since I started and actually quit successfully at the beginning of this year. Unfortunately it only lasted 4 months. My roommate has actually tried to quit along with me but wasn't really committed until her doctor refused to do her recent surgery unless she did.

Now that her surgery is over she started back up again because she says she loves to smoke. I, on the other hand, hate it. I constantly feel awful and cigarette smoke smells disgusting.

Recently I've been under a lot of stress (recently moving, severe anxiety and other mental health issues) and its pushed me over the edge so I've started smoking again. Not as much as I have before but it's starting to go from 2-4 hits a day to 3 cigarettes a day. I've tried to get Sam to stop smoking in the house and my car (which she has) but around me in general, she dismisses all my feelings about it. I've told her to refuse me cigarettes when I ask and to help me stop but she stopped doing that a day or two after I had asked.

I am slowly becoming aware that she is constantly sabotaging me. For example I've also been trying trying to lose weight. When we moved in together, I was 112 lbs and Sam was almost 300 lbs. I ballooned up to 214 lbs from just her cooking alone! Since then I've been doing an exercise routine and make my own food so I'm down to 196 lbs. But she makes snide little comments under her breath about my food scale and how much I eat.

I'm trying not to let my paranoia make decisions for me but I don't know what to do. It also seems like shes trying to buy my friendship. Like we had been arguing about smoking (and other things) and next thing I know she buys me an $800 laptop for school. 

I can't afford to take meds to quit smoking until I request my Army medical records and they send them so I can start going to the VA. Until then I have no idea what to do. I've tried pretty much every trick in the book.

Any help you guys can give me will be greatly appreciated!! Thanks.