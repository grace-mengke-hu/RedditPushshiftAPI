Is it really possible to quit smoking forever after so many failed attempts?

Last night I got high after ingesting Eddibles.I resisted smoking. In the morning after waking up I couldn't and smoked six cigarettes so far.I have restarted my journey again.I have  to stay sober for the rest of my life in order to not smoke again.I think I can do it.And I think I will not regret it either. Right? 

In last 9-10 months I am just quitting and relapsing because of so many reasons. One of them is getting high. I have noticed a pattern in my thought process is that "after getting past through the withdrawal phase of quitting cigarettes I somehow convince myself that once in a while it's OK to get high or drunk. Because of having a very boring and dull life I let myself consider and then I fall in the trap of my own brain". This cycle of quitting and relapsing is now driving me a little paranoid. I don't doubt my intention to quit smoking and other unnecessary so called fun activities that lead to smoking but it seems like there is a huge defect in my thought process that I'm failing to fix. In the name of anxiety, depression, boredom, stress, dull life, my brain kind of fooling me to smoke. But after smoking and getting high I don't really enjoy it either because then I start to dual on my Very decision. Now I'm wondering is it really possible to quit smoking forever after so many failed attempts? I need your thoughts on this. And please feel free to share your advice or suggestions to cope with this.

I'm not a hopeless, miserable individual. But I really need some of your experiences of failing and then succeeding, finally, and remaining smoke free for good. How did you do it? How did you beat your brain that is addicted to smoking?