Trying to get my friend to quit. Need Advice.

So my best friend recently started smoking about a month ago, after getting out of a serious 4 year relationship with his girlfriend. He claims that they're cool and part of his self image and the only way for him to relax but that he'll quit once he has a family and kids. I've tried to get him to stop, and I did for about a week (I tried to show him different way to relax and stuff when he was stressed), until he had a really bad day and got back into smoking. Since he started again he's been much more aggressive about me asking him to quit, and has done it more frequently than before. 

A lot of people on my Mom's side smoke a lot and I see how dependent they are on cigarettes and how the smell gets everywhere. I don't want to see him end up like that because I deeply care for him. So I have some questions. How hard is it to quit after 5-10 years of smoking?, because he says he'll do it once he has kids but I have my doubts on that. Are there any good ways I can encourage him to stop smoking? 