I need help

I posted a couple of weeks ago saying that I have decided to stop smoking, and so far I have been unsuccessful. The major reason for my failure so far has been alcohol. Whenever I go out drinking I can't seem to stop myself from smoking.  Now during the week when I am not drinking the smell and thought of a cigarette makes me feel sick and disgusted that I ever started in the first place. Why can't I seem to stop myself from smoking when I drink? Any tips or tricks are more then welcome thanks guys and gals!