Being forced to quit due to health reasons, but I still don't want to quit, help!

Background: Male, 22, smoked for nearly 7 years, on roughly 20 a day.

So today I suffered a partially collapsed lung when I was eating in a restaurant with my family. The doctor said I have to quit smoking or else it could potentially turn into a fully collapsed lung, which would mean curtains for me. Thing is, I still don't want to quit. My body can't understand how serious this is and still wants to smoke, but my mind knows I should be quitting. I've been off them for ~6 hours and I know it's going to get a lot worse from here. Any advice?

Thank you!