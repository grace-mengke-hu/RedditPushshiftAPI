Feeling depressed, mad at myself

I smoked tobacco with my weed in bong tokes for about 5 years straight. Quit the tobacco a month ago and I haven’t had any urges since. I got drunk yesterday and thought just one toke wouldn’t be bad.... 

Then I took one this morning and had a major anxiety attack for a few hours. The bright side is I know I’ll never do it again because it’s really scary having that level of anxiety. So it’s been a really rough afternoon for me. 

But anyways, all of that is to say that all I can do recently is think about the permanent damage I probably caused my body in those 5/6 years and it has me extremely depressed. Im in confident in my ability to quit now, but how do you get over that feeling? Or will I always just regret it massively?