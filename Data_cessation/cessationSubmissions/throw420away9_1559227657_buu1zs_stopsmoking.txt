Trying to stop

Hello everyone. 
I am trying to stop a lot of bad habits including smoking and excessive masturbation. I started smoking when I was 14, and I havent stopped since then. I am 20 now. I know it isnt as long as some of you, but I have never stopped, i can not even run more than 200 meters without dying from cough and dizziness. I never tried stopping smoking either until today. Any advice? I think I have enough willpower to stop