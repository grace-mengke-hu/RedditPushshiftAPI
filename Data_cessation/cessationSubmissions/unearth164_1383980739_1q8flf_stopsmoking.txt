Here we go again, hopefully for the last time.

Hey /r/stopsmoking, I'm a 19 year old guy who's been smoking off and on since I was about 15 or 16. I'm a smaller guy (around 5'7" or 5'7" roughly 115-120lbs) and I want to stop smoking. I never had a consistent rate of cigarettes per day, but it'd be anywhere from 2 or 3 to 5 or 6, depending on how bad my day was, most days. I took a few breaks. Quit for a month here, two months there. My longest quitting period was probably about 3 months. During that time, I was in school and would get exercise from gym class or running around my neighborhood (I used to run cross country in middle school and part of high school and had a 5m30s mile). 

Now, I am out of high school, recently joined a gym, and up until Monday was somewhere in the middle of a moderate and a heavy smoker, consuming tobacco and cannabis on a regular basis. There were some days where I didn't even want to finish my cigarette because I started to gag and cough, so I put it out, but was still reaching for one later in the day. I started to cut down in the past month because I realized how debilitating my addiction was, mostly financially but especially physically. 

My family has a history of lung and heart diseases. My grandfather on my mother's side died of complications due to lung cancer and emphysema, my grandmother on my mother's side died of pneumonia, emphysema, and other problems. My father's mother was a "til death" smoker. Even after her cancer diagnosis she would puff a cigarette while puffing her inhaler. So obviously if I keep smoking my future doesn't look very good and it's just scared me straight, I guess.

First question: How long does it take for your lungs to get better? I know there's usually a 3-Day slaving until your cravings start to go away. Thus far I've had 1 craving triggered by a tv show character lighting a cigarette. Otherwise I haven't thought about touching them. 

Secondly: How do I ensure I stay away from them? What tricks have worked for you and how can I use them to benefit me?

I wish I could go back and unsmoke all of those cigarettes because it was so stupid but I have to make do with what I've got now. Any feedback is happily welcome.

Ninja Edit: Thirdly, when do I get my stamina back? This whole cardio thing sucks and I don't remember it sucking.