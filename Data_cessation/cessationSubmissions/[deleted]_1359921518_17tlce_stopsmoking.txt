I wanna make sure it sticks this time

I was able to go 38 days without a smoke while being around smokers and being drunk. On day 38 I simply gave up and had one which spiraled down to a pack a day. I want to quit permanently but this time around it seems so much harder. I'm having a much harder time saying no to myself.