Quitting Smoking with mental illness.

Hello all, first post here on reddit, been lurking for awhile. So basically, I was wondering if anybody who has quit smoking, also has experience with a mental illness. I suffer from bipolar disorder and go through bouts of depression and anxiety, the times I have quit before (and failed) I noticed my anxiety went away completely, however, I couldn't help but have the "your a piece of shit, life doesn't matter, smoke a cigarette" type thoughts, along with the most absurd, bipolar justifications, like "well, you were bullied 10 years ago" or "my whole family smokes, I'm just carrying on tradition". Anyways, Just wondering if anyone has dealt with mental illness or issues and come to "see the light" at the end of a cigarette. Thanks.