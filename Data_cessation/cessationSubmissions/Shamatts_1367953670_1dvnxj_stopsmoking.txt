Gained 45 lbs the last time I tried to quit. Need help!

I succesfully quit smoking for a full year but gained 45 lbs in the process. About a year ago I started up smoking again and also went on a diet/ got a gym membership and have lost 50 pounds. I'm now in a healthy weight range again but am smoking a pack a day. I want to quit desperately but I'm scared shitless that I will start gaining weight again. Any tips on quitting and maintaining a healthy weight? I feel like my diet will get worse when I quit, I remember going junk food crazy the last time.