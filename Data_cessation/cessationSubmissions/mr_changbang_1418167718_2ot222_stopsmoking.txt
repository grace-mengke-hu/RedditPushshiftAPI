I came soooo close to smoking again tonight. How do you avoid the drunk cigarette?

It was after dinner, my mates and I had a few drinks and we were sitting around talking. They started smoking and one of them handed me the rollies. Being quite buzzed I rolled one up almost without thinking until I was about to light it up, then I hesitated and thought to myself "take it easy here, wait it out 20 seconds" Then I handed my unlit cigarette to one of my mates and said "have this one, i'm off to the john." After I washed my hands, I saw my hands were shaking pretty hard. I came back with my hands in pockets and sat out the rest of the night, looking at my friends wistfully. It's hard not to feel envious, but I know I shouldn't... but I can't help it! Left 30 minutes ago, still having ridiculous cravings and smelt like second-hand smoke.

My past relapses were all because I had at least 1 drink... How on earth do you avoid the drunk cigarettes? Allen Carr says to meet them face-on... but even after tonight I'm still not sure I can hold it out for a second time! 

Sorry for the unstructured post, I'm typing on my phone.

Edit: Spelling mistakes, and I am aware that the smart thing to do is to avoid drinks for the first few weeks, but what about a few months down the line? 
