100% know I have to quit but the cravings are still there

Okay, so the other day I had a sudden pneumothorax (basically a slightly collapsed lung) and the hosital gave me some nicotine patches and some weird inhalator thing (looks like a tampon), so I'm getting the nicotine but for some reason the cravings are still there. I feel like i just need to stop thinking about smoking but it's SO hard, anyone got any tips to help take my mind off smoking? 

&amp;#x200B;

I've quit a few times in the past, sometimes for a few months but sometimes less than a week and this seems to be playinngn on my mind, I keep thinking "I'm gonna fail anyway so why bother trying" how do I stop having these thoughts? Any help is greatly appreciated