Am I doing it right??

Hey everyone, 
I have a question about quitting because I'm scared I might not be doing it right in the long run. A few weeks ago I had posted that 3 weeks into my quit I drunk smoked at a wedding and the next day was right back on my quit.  I hadn't tripped again until tonight day 45 of my quit. I fell into a funk and felt depressed and went out and bought a 20 pack. I smoked 4 realised what I was doing called over to my sister and told her to throw them out which she did.  I didn't enjoy smoking them, it hurt and the taste in my mouth was awful! so straight away I've picked myself up and am back on that same quit. Does this happen? Do you trip and then just get back up running? and eventually just stop tripping up? or am I just setting myself up for to eventually fail? I feel crap about smoking but also feel good about throwing them out. I feel its when I get a bit down or depressed that its hardest to resist the craving. 