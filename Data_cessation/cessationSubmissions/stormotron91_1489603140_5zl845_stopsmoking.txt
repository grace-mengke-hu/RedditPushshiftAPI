Every time I have a smoke it riddles with guilt because I know I need to stop.

I really really really want to stop smoking, it's on my mind all day every day but I just can't stop myself from going to the shop and buying more. It's like I'm trapped in the back of my mind watching this idiot destroy his own life. It makes me think back to the time when I was a young boy and my dad was trying to give up, I would get angry and passionate and yell at him 
"All you have to do is just not buy anymore!"
Even though I was ignorant I feel like I was on to something. I want to stop now, does anyone have any useful tips and tricks? Thank you.  