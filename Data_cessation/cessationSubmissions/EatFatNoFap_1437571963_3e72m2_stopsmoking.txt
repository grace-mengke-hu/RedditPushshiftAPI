I can't sleep without a cigarrette

I've had insomnia since I was a kid. Years ago I discovered that if I smoked a cigarrette just before bed I fell asleep almost inmediately and without any effort. I felt so relaxed and anxiety-free that sleeping seemed easy. Now I want to get rid of the habit. It's just one cigarrette a day, but that's no excuse. The problem is that now it's impossible to sleep and I have a lot of cig cravings at night. Exercise doesn't work and I don't want to take pills since even Melatonin makes me feel dizzy the next morning. 

I wish there was a substitute that put me in the mood for sleeping. Any ideas? 