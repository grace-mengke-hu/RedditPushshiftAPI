Looking for advice to get out of my quit and start smoking again cycle.

Ok, I've been in this cycle for maybe 10 years:
I quit smoking using the little mint lozenges. I suck on these for maybe a week at the times I would normally smoke such as coffee in the morning, after meals etc. These are very helpful to me and help prevent cravings.
Over that week I gradually reduce the amount of lozenges I consume and by the end of the week I can live normally without anything.
Next thing I go for a few beers and after maybe 3 pints I decide to have a cigarette. Anyway, you can see where this is going. I give in usually when I drink beer and before I know it, Im back smoking full time again. 

Im just wondering does anyone have any advice to break this cycle. I really have no problem quitting but I get really weak when Ive consumed beer. 
Maybe I should just "vape" when I drink??