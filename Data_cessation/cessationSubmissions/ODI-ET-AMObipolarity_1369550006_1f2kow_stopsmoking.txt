After 6 day, I broke. I am ashamed.

I'm staying on a friend's couch now because I've had nowhere to go since highschool let out, and last Sunday I decided I'm done poisoning myself day after day. I've been smoking for every day, without fail, for 5 years since I was 13. Last weekend I quit cold turkey. I fight the urge to smoke all day, every day, and I've stuck to my guns. But every day, at one point the anxiety takes over and my brain irrationally justifies smoking, I tell myself its bad, but the more I do that the more I'm drawn to a smoke. Tonight I was surrounded by friends smoking and I indulged in a hit of a cigarette. Then another. Then I hungrily hit the cigarette in succession, each hit bigger than the last, until the cigarette was down to its filter. I then longed for another, and aquired a persistant shameful ache in my chest :( I am a slave to my own addiction, and I would humbly appreciate tips on how to avoid breaking in the long run.