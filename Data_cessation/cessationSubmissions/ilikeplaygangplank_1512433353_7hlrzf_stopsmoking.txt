How do I quit when everyone around me smokes.

I hate myself because I just cannot quit. When I am living alone during vacations I never smoke but when I am going to classes and living in hostel where everyone around me smokes. I swear, it is impossible for me to not smoke and drink.
I am just way too affected by my friends. Every year I think this year is gonna be different but every year I do same shit like this. How can I just stop drinking and smoking once and for all. I say I wanna quit drinking because when I am drinking I smoke like a chimney. (Like more then 1 pack a day)
Smoking fucks me up. Fucks with my appetite, my weight, sense of smell and breathing and I swear I only write this right now because I am very sick right now and do not feel like smoking. Why can't I feel the same everytime? It feels like I just smoke too much because I am free. How can I keep myself occupied so that I do not feel the need to smoke?