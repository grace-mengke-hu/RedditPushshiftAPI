Ex-Smokers with mental health issues....?

I'm curious how other ex-smokers with mental health issues have quit smoking.

I suffer from Depression, Generalized Anxiety Disorder, and Panic attacks. In my attempt to quit yesterday (went 24 hours), I realized that my cigarettes serve the purpose of a anti-depressant. During those 24 hours I was having nasty intrusive thoughts. The headache didn't bother me so much but the thoughts did. 

I have read Allen Carr and plan to re-read it tonight (along with watching the youtube video). I will try again tomorrow. Any tips welcomed