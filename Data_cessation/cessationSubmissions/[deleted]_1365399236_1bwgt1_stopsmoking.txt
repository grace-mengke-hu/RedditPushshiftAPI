I keep caving

My record right now is 2 weeks, but I keep caving, especially at the bar. In the past 2 months I've probably had 3 cigs.

Any advice?