Can't sleep

I've tried quitting about 10 times this year and I've noticed that if I don't smoke I can't fall asleep sometimes for 3-4 hours and once I do my sleep is very restless and I always dream nightmares. Did anyone else had this issue? 