I need some help (Bar Cravings)

I havnt had a cig in over 80 days until tonight. I was at a bar after work with some friends and I broke down and bought a pack since everyone else was smoking. (excuse out of the way) I need to know how others handle this kind of setting. I feel ashamed of myself.