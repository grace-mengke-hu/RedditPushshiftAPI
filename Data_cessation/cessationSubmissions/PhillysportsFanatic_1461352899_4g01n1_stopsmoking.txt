How to convince my father to stop hardcore smoking/drinking?

My father is 51, been smoking for 20+ years. In October my father suffered heart failure, I haven't never felt so bad. I felt like it was my fault. I have had a strange relationship with him,  one moment we dislike each other, the next moment we love each other. My Father drinks about 10 cans of beer a day. He was sober until a few months ago, that's when I caught him smoking. He was also sober until his father died in 2005, that's when he started smoking and drinking. He has at least 7 cigarettes a day. 

I  have done everything to convince him not to smoke, or drink. Sometimes I think he doesn't want to live, or at least don't care about dying. I am angry at him, but I want to cherish every moment with him. I also have a twin, who is much closer to him. He is fine with him smoking & drinking. His doctor said he doesn't expect him to past 60. 
I want him to be there when I am married, I want to have conversations with him every day until 2:00 Am in the morning, I want him to be a grand dad. 

What do I do? 
Btw, I'm 19 years old. 