How can I stop smoking when I drink?

I used to be the type of smoker that would quit all the time, and start up again when I got drunk.  I've managed cut it down to only smoking when I drink.  A pack can sit on my desk for days and I won't even be tempted to smoke, until I get a beer in me.  Does anyone have any advice?  I'm considering quitting drinking for a while, or going to the bar for just one beer and leaving to help break the habbit...then working my way up to staying longer without smoking.  