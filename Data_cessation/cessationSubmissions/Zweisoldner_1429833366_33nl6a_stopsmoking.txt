Cutting out that 2~3 cigarette a week?

I've tried to quit cold turkey countless times. So far, I've went from a pack every 2 days, to now 2~3 cigarettes a week. I wish I could have done better but it's progress.

I've been on this 2~3 cigarette a week cycle for 7 months now, and I want to cut that out too. I find it's mostly
(90%) when I'm with friends who are smokers that I can't resist having a cigarette with them. Sometimes I've even avoided them so I don't smoke. It's worked.

I'm not asking for a miracle answer here, but I'd really appreciate if you guys to share how you managed to quit that occasional cigarette with your smoking buddies. I really want to cut this habit out of my life completely and for good, but also not let it have leverage on me in any way.