Relapse...

So I had quit smoking on March 21 of this year, and I had some difficulties at first but they went away. Unfortunately, after moving back home from University I was back with my high school friends, all of whom smoke (my uni friends only has one smoker) and this has made it harder as I am now constantly around smokers. Of course I fell into the trap of "just one" and then "I'm drunk so just one" and then "this joint is missing tobacco" and now I feel like I am right back where I started. Four months of effort put down the drain because I couldn't resist my friend's offerings. How do you deal with having smoker friends when trying to quit? I've tried asking them not to share but I am also very convincing at making them share when time comes. Usually my biggest issues are friend bar nights. Do I need new friends? I don't know what to do.