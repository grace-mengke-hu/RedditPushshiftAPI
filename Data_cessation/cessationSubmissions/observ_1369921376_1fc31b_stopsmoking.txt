Relapsed smoker trying again

Hey,

First time i quit smoking, it was still May but in 2011 and did it "cold turkey", with 2 weeks notice for my body --> No coffee , no drinking out.

It went smooth, but i gained about 10 kilos after, and by New Year 2012 - 2013 i relapsed.

Now i want to try again, but i am afraid i will just relapse, and i have no idea how to mitigate that. Any ideas?