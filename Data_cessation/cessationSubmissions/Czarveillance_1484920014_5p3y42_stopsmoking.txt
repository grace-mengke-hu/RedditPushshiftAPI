Venting and Looking for Productive Advice

I'm hoping my fellow quit-smoking redditors will have some advice for me, but I'm also hoping just getting this down on "paper" will help keep my mind busy too. This may get long-winded but I hope you stay with me...
I've been married for 19 years and have an 18-year old daughter and 5 year old son.  I was a smoker before marriage but before we got married my wife told me her biggest line-in-the-sand for our life together was that she did not want to be married to a smoker which is completely fair.  She didn't demand that I quit but left it up to me which life I would choose.  I quit pretty successfully and we got married but after a few short years I caved and became an off-and-on "secret" smoker over different periods of our marriage (although not smoking more often than smoking if it matters).  She did catch me during one of my smoking periods early on when my daughter was very young and I did quit for quite a while but at some point gave in to the addiction, maybe out of emotional or mental immaturity...either way there was no excuse, until we found out we were having another baby.  I quit again pretty successfully until a little over 18 months ago when a particularly stressful time at work (or so I probably just told myself) made me try a cigarette again.  Everything they say about "just one cigarette" is absolutely right and I smoked again for about a year although not nearly as frequently as I had in the past.  Still, when I was smoking it tore me up inside because there was no way to not know that what I was doing was wrong...not just the smoking but more so the lying because smoking had been my wife's line in the sand and I betrayed her by doing it and hiding it from her. The things addiction will make someone do are no mystery to any of you, though.  She caught me again this past June and after a very rough time of anger and hurt feelings I started on the currently successful road of having quit for good forever.  My wife's forgiveness, the disappointment of my children, and this community have helped me to continue seeing the benefits of staying on that path. Over the past 6+ months of not smoking we have been trying to move forward and heal but I know that trying to repair the trust I broke has been very difficult on her.  She has been more than supportive in keeping me a non-smoker (helped me get on Wellbutrin, is very happy at non-smoking milestones, keeps on open line of communication on my progress, etc...) I completely understand this and have been trying to be the trustworthy person she thought she was already married to. Throughout all of that we kept our children as priorities (our son has some special needs that make it an additional challenge) work well as partners in most areas of our life together but I know she will take a while to move past the hurt of my betrayal if she can ever fully move past it. I keep offering counseling to help us supplement some of the healing we've been able to do on our own but she is not interested.  Over the past 6+ months when we have what would just be a normal argument between spouses the topic of my past smoking and lying keeps coming up (which I don't blame her for) and she has started mentioning the possibility of just "calling it what it is" and divorcing.  Between those arguments things seem to be going great but obviously she is still holding onto that hurt (which, again, I do NOT blame her for) so I just keep trying my best and hoping time will heal.  Yesterday we had what I considered to be a misunderstanding that got blown out of proportion in a time of stress with some issues going on with my son.  That became another "let's call it what it is" and she expressed the feeling that she is tired of trying and told me I should just move out (which she has done before but soon after took it back)...although she gave me the opportunity to stay at home over the weekend. I'm hoping that giving me the weekend to stay at home before telling our children what's going on before I have to leave is a signal that she isn't ready to let it go but I just don't know. I wouldn't blame her if she stuck by that although I love her and my children more than anything and I really hope she does love me enough to keep working through this.
So, anyway, if someone has any advice about that I would be very appreciative but I realize this isn't a marriage subreddit so then there's this... I'm no longer physically addicted to the cigarettes and haven't felt like I needed one in a long time but does anyone have any advice on working through the stress of a possible divorce (or any kind of stress) like this without cigarettes? I don't have an urge to smoke so I don't consider it an option to deal with this stress with cigarettes but any advice in this area is welcome. Are there any other past secret smokers who can share their stories or advice? Even just knowing that there are others out there who went through something similar in any way would be helpful.  Thank you in advance.