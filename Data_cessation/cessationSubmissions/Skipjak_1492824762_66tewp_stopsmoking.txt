I feel so stupid

I'm a little bit drunk as I'm writing this, so please excuse any errors I make.

I've been trying to quit since november, with mixed succes. I didn't smoke untill march, not even a puff. But starting from the second week of march I smoked a cigarette every now and then. I decided to stop doing that and go completely smoke free on monday. Tonight was my first night out drinking since then, and I am really dissapointed with myself. As soon as I got drunk, I asked a smoker friend for a puff. He knows I'm trying to quit, so luckily he declinded
I ended up not smoking at the bar, which is great. But then I cycled home and immediately I realised my roommate probably left her tobacco out in the living room, and thay thought really excited me. As I rode home, all I could think about was that pack of tobacco lying there on the kithchen table. I couldn't take my mind off of it. It was as if the decision had already been made for me: I would smoke a cigarette when I got home. I didn't want to, my mind simply decided that that was the way it was gonna go. I got home, and indeed: I didn't only find a pack of tobacco, I found a pre-rolled cigarette, waiting to be smoked. I took it, lit it, and took two puffs.

Feeling immediate regret, I put it out. I felt so stupid. I decided never to smoke again, yet I stell can't resist a cigarette lying there. Addiction is so weird. Like I said, as I was riding my bike home, as soon as I figured there would be tobacco waiting for me at home, my mind immediately decided for me that I would smoke. 

I could really use some advice here. I know I should cut down on drinking, but from time to time I will still get drunk. And I should probably talk to my roommate and ask her to hide her stuff from me. What else can I do? How do I handle these temptations when drunk?