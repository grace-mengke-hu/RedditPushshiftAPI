How to beat the social cigarette cravings?

Hey,

So my badge is technically a lie, because I've fallen in three times when I've been out drinking with other smokers. Does anyone have any good advice to how to beat that social smoking craving? Right now I'm at a point where I literally can be telling people that I've quit smoking and then 30 seconds later I'll be asking for a cigarette. It's as if there's a total disconnect somewhere.