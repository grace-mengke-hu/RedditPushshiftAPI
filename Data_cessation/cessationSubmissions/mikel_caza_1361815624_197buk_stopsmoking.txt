Day 11 rollback to day one

I was doing great quitting smoking up until yesterday. All my friends, family, and co-workers smoke, and I was doing fine until I was sitting down playing a game of cards after work and everyone lit up. I'm not certain that I know exactly why I wanted a cigarette but I ended up smoking one. It made me sleepy, so I left, went home, and slept. I have been awake for a few hours and haven't wanted one yet. However I am scared that if there is a next time I slip up I will go back to full on smoking. My lungs hurt and it feels like I have got some weird kind of heartburn. I quit smoking so i could start exercising so i could lose weight and the only thing I have done is gain weight and fail. Any advice for a guy who is turning over a new leaf in life?