Peer-Induced Relapse

I'm a 19, m, college student almost done with my sophomore year.  I've been smoking pretty consistently now for 4 years, and I want to stop.  For the past year I've tried several times, but I live in a college environment and often find myself drinking socially with friends or something like that at which point I just don't care.  And neither do my friends; I can tell people I want to stop smoking and they're completely down with the cause, but if we get a little bit drunk or stoned or something it turns into a joke, like, "as if we could ever stop!"  

People with similar issues or just past smokers in general; what was your trick?  Honestly I could just use some tips in general, I've decided to myself that this is the week that I'm going to get over this so any advice is helpful.  Thanks!