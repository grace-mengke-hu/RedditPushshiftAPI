How long does it last?

So my girlfriend started smoking at a very young age and smoked well into her thirties, but had her last cigarette over three weeks ago. She has been trying to quit for a few months now, but stumbled a few times. Right now, she is absolutely miserable. In her words, she wakes up in the morning wanting a cigarette, thinks about nothing but cigarettes all day, and wakes up at night sometimes wanting a cigarette.

I don't know what to do. She's in bed crying right now, and nothing I do can calm her down. She just wants the cravings to go away, and is frustrated because a lot of sources say she should be feeling better by now. She says she has leg pains ever since she quit, and quitting has negatively affected her mood. Essentially, all the good that's supposed to come from quitting has gone bad.

Can anyone help?