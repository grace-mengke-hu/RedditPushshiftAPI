I bloody good advice from you poeple

I gave up smoking year ago. Recently I have separated with girl who I have been for 5 years and it's killing me that she has sorted her life so quickly and only after month and half she is seeing someone already. I still think about her and have her dog at my place, so we basically have to work out somehow. I decided to let her know, since she's not visiting dog anymore, that I will take full responsibility of the pupper so I wouldn't have to talk to her again. Thinking it would help me but she's not very keen to leave the pupper despite taking him once in a month for a day or two. This freaking situation just cracked me open and I started smoking on parties which has become already nicotine addiction. 

Any advice with it? It's more like personal problem, I understand, but you have to see what out me in the position to start smoking again. I don't like it and wish to stop this, I just can't get myself to. 