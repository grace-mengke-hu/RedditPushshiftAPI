College and adderall

As a senior engineering student I take a lot of adderall and pull a lot of all nighters. Been smoking for about 3 years and during these extremely lengthy study sessions I feel like all I have to look forward to is my next square break with my friends. A cigarette break is the best thing to just relax and take my mind of equations for 10-15 minutes. Who understands me? Any advice for quitting when these times of need make me crave the most? Thanks in advance