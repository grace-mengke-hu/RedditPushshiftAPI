I couldn't do it

I knew it, I knew I couldn't last a drinking night not smoking when everyone around me was. It was on my 12th day of quitting and I caved in and smoked 10 that night, it has been 3 days since then and I haven't smoked again since. I am ashamed of myself but it has shown me I can cave once when drinking and not start again fully, smoking feels so good when you're drunk that's all but I haven't really felt a strong need to start again afterwards