The most effective thing I've found is to constantly internally ridicule others...

God it sounds terrible.  But when someone opens up a pack or start to smoke in my presence I repeat all kinds of narratives in my head why that person is the dumbest most hypnotized dependent person on the planet.

When they say the same old things we all told ourselves to make the smoke seem like an actual reward instead of a poison I just go in my head and while nodding and smiling at them I'm thinking "Idiot, the ONLY thing that cigarette did was create a need for another one on a time delay", breath in and 

Wait so step one is constant ridicule of others and step two maybe MORE important.  Constantly thank your past self for going this far.  Do it in the same 30 seconds.  "Oh my god these brainwashed masses keep falling for it" and "thank you former me for creating the space I'm in now"  Take a deep breath and love it.