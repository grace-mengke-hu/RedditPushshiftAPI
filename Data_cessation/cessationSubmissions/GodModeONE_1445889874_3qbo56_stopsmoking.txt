Smoking coughs anyone?

So I quit for the nth time about 6-7 weeks back before starting again about 2 weeks later.

Towards the end of those 2 weeks, I fell sick and started violently coughing every 5 minutes, shooting ugly greenish yellow balls of slime from my mouth. It reduced a little (dry coughing only every 30-45 mins) when I started smoking again.

4 days back, I tried to quit again and my cough has come back with a renewed vengeance. I once again have ugly slime shooting out every time I cough and my chest hurts from the intensity of the cough. I barely get 3-4 mins before my throat gets itchy and I have to cough hard. Especially bad before bed and when I wake up in the morning.

Is this normal for people who are quitting? Has anyone gone through this before? Or is there something worse at play that a doc should have checked? Keep in mind that it has been about 6-7 weeks since I started coughing, and when I visited the doc 6 weeks back, all I got was a cough syrup.