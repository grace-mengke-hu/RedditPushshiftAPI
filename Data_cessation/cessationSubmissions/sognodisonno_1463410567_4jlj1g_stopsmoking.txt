Trying for keeps

Hi everyone. I quit a few years ago and had a good couple of years, but in the last year or so have backslid. I haven't reverted to the point of having a pack around at all times, but if I'm around cigarettes, I want them. Two of my closest friends smoke so I've become a regular bummer and every once in a while if I'm somewhere where a lot of people are smoking I give in and buy a pack on the way home (it felt like progress a few months ago when I decided to make myself toss these packs any time I do this rather than keep them – if the cigarettes are around I smoke them).

Thing is, I feel awful the day after I smoke. Not out of guilt or anything, more like I actually make myself physically sick. I'm tired, my head hurts, my throat hurts. I know this happens, but I still smoke when I'm around it and I need to be done. 

I just ordered Alan Carr's book based on the suggestions here and am hoping that this time the quitting may stick for good – and not just in some contexts. 