Cigarettes and Alcohol - advice

So I have been 'in the process' of quitting for about six months, and there is one hurdle which I just can't overcome. I can (and do) go for a whole week without a cigarette, and not only do I not want to smoke I feel really proud and happy about myself. Then one night, normally friday or saturday, i will have a few drinks and then think 'sod it, i'll have a cigarette'. I guess it's the same part of my brain that thinks 'sod it, i'll buy tequila for everybody!'. It's my 'it's friday and it doesn't matter' brain and it's really damaging my attempts to quit for good.

My question is whether anyone has any advice about how to deal with this? Is the best idea to go a few weeks without drinking and then try having a glass of wine and see if the urge for a cigarette has diminished? It's probably not just the alcohol's fault - i could easily have a drink with my parents, for instance, and not smoke - but it's the combination of pub / smoking friends / release of tension after a long week at work. And in the mornings I inevitably feel really annoyed and ashamed of myself...which isn't what i want.

Any thoughts VERY gratefully received!