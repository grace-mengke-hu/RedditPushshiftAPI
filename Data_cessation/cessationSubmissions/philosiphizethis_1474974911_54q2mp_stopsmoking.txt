Going through a rough time, looking for advice

Hi, without getting into too much detail I'm going through some shit right now. I'm separated from my family, depressed, anxious, and under a shit load of stress. I had quit smoking for several years but picked it back up about a year ago. At this point I've let myself fall into some bad habits to try and cope with everything that's going on. I've been drinking every day, taking sleeping pills every night, and am up to about a pack of camels per day. I really want to start dealing with this shit in a more healthy way and not feel like I need cigarettes, alcohol, and pills to get through each day. I tried to go a day without smoking recently and it was a nightmare, if my life wasn't so tumultuous right now I think it would be easier, but I get hung up and fixated on these major stressors in my life and the need to smoke just became overwhelming. What are some things I can do to quit smoking (and the other) stuff despite how stressed out I am by life in general right now? Should I try to stop everything completely right this moment or focus on one vice at a time? Thanks for any advice.