Messed up. Can't believe I did that; upset, nervous. Need help how to think about it to move forward.

This is the farthest I've ever made it and by far this has been my best quit mentally and in every other respect. I really felt done with smoking and I still feel that way even though I messed up.   
  
The 3-week mark was presenting some tough cravings but I thought it was nothing I couldn't get through. Guess I was wrong.  
     
The very last thing on earth I want to come of this is for me to become a smoker again. I need this to be a blip on the road to freedom. Help me figure out how to think of this in such a way that I can get right back on the wagon.  
    
Any words of wisdom appreciated! Thanks in advance for your awesomeness. 