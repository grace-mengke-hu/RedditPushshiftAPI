22 days without lighting any cig, but...

Since the middle of January, I never lit any cigarette. Since then I hung out with my friends like 3 times, last time was last saturday night. All of them are smokers and each time I met them (after quitting) I had smoke like 6-7 swigs by the whole night. That's what bothers me so far. As I said I never lit and smoked a single cigarette for more than 20 days but I have this desire to smoke when 6 ppl smoke nearby me especially after couple of drinks, so I take several swigs from them. That is the last barrier left at the moment. I need your advices for the final blow to this damned addiction.