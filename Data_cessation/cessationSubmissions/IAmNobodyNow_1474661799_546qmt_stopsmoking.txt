My smoking is affecting my relationship

I want to quit. I really do. But I've hit a point where I'm trying to sneak cigs behind my gfs back and she tired of the lies. I really do want to quit but my.self control is basically non existent and I would really love some advice. I've tried some nicotine replacements but I never seem to stop craving an actual cigarette. What helped you quit the habit? Sorry for the backstory but I'm a bit desperate here 