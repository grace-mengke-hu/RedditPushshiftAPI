Wanting to quit again

Hello, I’m a pretty heavy smoker at almost two packs a day and I’m getting to the point where if I don’t quit now, I probably never will. 
I still enjoy smoking, which is an issue, but quitting makes too much sense. 
I’ll save money, my health and I won’t have to awkwardly explain that I’m a smoker to a girl that I’m about to start dating who doesn’t smoke. 

I’ve quit for up to a year in the past, but the issue is that I’m also a drinker and all of the bars I frequent are smoker friendly. I’d like to contain smoking to when I drink and when I drink only, but that always fails. Do any of you who smoke only when drinking have a tip or is it something that I’ll never be able to pull off?

Any advice is welcomed. 

Tl;dr: Want to quit smoking, but drinking always sets me back and I don’t want to quit drinking, so I want to learn how to smoke when drinking only. 