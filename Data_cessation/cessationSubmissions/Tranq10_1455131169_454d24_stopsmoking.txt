I've been through hell the last few weeks and I need a cigarette.

To cut a long story short I feel like absolute shit! I really want a cigarette because it always used to make me feel so much better and happy! Last month me and my ex-girlfriend broke up we were together for 2 years. This has seriously made me feel shit and to top it off, last week I was in hospital and had to have emergency abdominal surgery so now I've been signed off work for 4 weeks so I'm left on my own, with nothing to do or to take my mind off things and I just can't stop thinking about smoking. It ALWAYS made me happy. I know it's bad to rely on drugs, but I honestly don't know what to do. I'm at my breaking point now and I really feel like buying a pack ... Please any advice would be grateful. Oh and my "friend" drove my cravings up the wall yesterday because I told her about all this and she blew smoke in my face from her cigarette and said here have some. Which has made things worse.

*EDIT*
I just want to thank everyone for the help I haven't smoked still and all your words of advice has helped me keep to that. I just want to thank you all!