I failed after 30 days.

I came so far, and got drunk and smoked about 20 fags. And now I'm smoking again, it feels abit hopeless this happened last time I tried to quit too I went 2 weeks then started smoking again. Any advice? I feel like I've undone all my hard work.