My badge is a lie

So I successfully quit smoking for 2 weeks. Then I started back at a restaurant I had previously worked at, where all my good friends smoke. I resisted for a few days, before facing an especially stressful shift. Thinking it would help, I bummed a smoke. Yadda Yadda Yadda I am back as a smoker again. 

Any tips on getting back on track and avoiding temptation? 