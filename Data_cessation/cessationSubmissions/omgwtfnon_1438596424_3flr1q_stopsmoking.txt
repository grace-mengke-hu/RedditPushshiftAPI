Smoke free for 4 weeks, going on a holliday in two with smokers (need help)

The past few years I've been trying to quit smoking unsuccesfully. Haven't been smoking long (6 years), but want to quit due to genetics. 2 cousins were diagnosed with COPD at 24. I don't want this for myself so I've been trying to quite the last few years. Currently I've been smoke free for 3 weeks. An accomplishment I'm proud of because I almost caved due to stress last week because of the changes of possible becoming homeless.

In two days I'm going on a trip with friends whom I met during my university years. During the past years the moments in which I fall back during my efforts to quit smoking are with them. In most cases they are supportive of my efforts to quit this habbit. In most cases I'm the one who cracks and asks for a sigaret. I'm feeling confident that this time it's going to be different. But I am looking for tip/tricks to help me stay focused, even when I'm shit faced drunk hanging out in bars.


edit: replaced OCD with COPD