I feel like a damn failure.

The title says it all. I had a stressful day today and let my old smoking self get the better of me. I lasted 24 days up until this morning..when I decided a cigarette would calm me down. Stress is definitely a trigger for me. My lungs and my heart are giving me grief. If they could speak, they'd be screaming," you're a f#%king idiot". 
I was told I had PE in February this year. For those who don't know what it is, it's blood clots. Found in my lungs. They've since disappeared but I'm on blood thinners and will probably be on them for a very long time. I quit for over a month but reached for them once again. I had a legitimate reason to quit yet I still smoked. I feel like an absolute failure and am so disappointed in myself. Help me fellow redditors. I'm open to criticism, encouragement -the works. 