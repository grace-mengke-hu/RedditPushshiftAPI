I'm not sure I have ED, but if I do what's to blame?

I'm in my late 20's, been a heavy smoker (pack a day) for many years but I've also been a heavy porn user.  I don't really have an issue getting it up, except sometimes it takes a bit longer or with more "extreme" sexual thoughts etc.  I don't really have morning wood.  From my understanding the definition of ED is inability to have an erection sufficient for penetration-I don't have that issue but when I do have erections they aren't at 100% and sometimes I fail with a new partner.  I am nervous/anxious about how clean my new partner is (I do use condoms and still freaks me out if I don't really know the person), so I think it's anxiety to blame in this case since the problem seems to go away after a few dates and when I'm comfortable.  Anyways, long story short, I decided I should quit smoking so it doesn't harm me if it hasn't already in that department, and also do nofap which I already started 5 days ago.  Questions that I have.
1. For those that were both smoker and fappers, did you give up one of the two (or both) and noticed any differences in erections?
2. Which of the two is the hardest to quit? Nofap is going fine so far for me, I do get some urges but they 're very manageable-now that I started nofap and have been successful so far I feel confident enough to tackle the smoking addiction.
3. Generally speaking, how long after quitting smoking does someone get fuller erections back? Is this permanent damage? On the other hand, if less than firm erections is due to pmo, how long 'til that is reversed? 