I relapsed today after three weeks

I had a very bad day today and kind of a panic attack (I do have psychological problems). After three weeks of not even thinking of smoking a cigarette, it was the only thing I could think about today. I don't know whether it was a bodily reaction or a psychological reaction, but I guess it was the latter. I am feeling bad now and don't want the last three weeks to be for nothing.

Any tips on how to deal with the relapse?