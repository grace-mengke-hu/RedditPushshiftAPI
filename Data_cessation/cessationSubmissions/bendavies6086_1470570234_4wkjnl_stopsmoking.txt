Smoking whilst drinking

Hi guys, so I used to smoke to handle stress roughly about 8-9 a day for about 2 years. I've managed to stop smoking on a daily basis for a few months now however every time I go out on a night out I end up smoking roughly 20 do you guys have any tips on how I can stop doing this?

Thanks!