Self distruct sequence activayed

So I was sent on an emotional roller coaster tonight, so much so that I bought a pack of cigarettes and smoked one. I was doing so good, too! 
How do you deal with emotional trauma cropping up when you least expect it?