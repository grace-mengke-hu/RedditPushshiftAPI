Relapse in day one :(

For anyone interested, this is my story. I write this in an attempt to straighten out the mess in my head, hoping it will allow me to move forward sans smoking.
I've been a smoker for about 12 years. As most, I never intended it to become habitual. In my early 20's smoking become ingrained in my life.
It wasn't until the birth of my first child that I had any desire to quit. Here I am 5 years later, and I have continued smoking with some breaks here and there. What did happen during that time is I began to try and hide it from my family. Everyone is well aware smoking is bad for your health, but what I never though of was how I was destroying my relationships around me. Every time I lit up and tried to hide it, I was lying to my SO. I lied, and lied, and lied. Each time, I lied to her, I lied to my daughter, and lied to myself.
My "need" for a smoke only served to push me further from my SO. In trying to hide my smoking I avoided close contact and became less open about all the other areas of my life.
So here I am, after trying to hide it for so long. My house of lies has collapsed. All that remains is a broken relationship and a craving for nicotine.
To try an rebuild, I have to quit the smoking any lying. 
I started on Saturday and made it until Monday. On Monday I started a cigarette and threw it away in disgust. I then destroyed the rest of what I had, and told her about all of it. Then the very next day I bought a new pack telling myself that I would have better luck slowly weening off them, but it was a terrible idea. Worst off, I didn't tell her.
I hate myself for what has happened. I want to stop smoking. I want to stop lying. I want to restore our relationship. And despite all I say to her, she rightfully has no reason to believe me. The only way I can show her, is to do it. After 1 day I failed, and I can't depend on getting more chances.
I hurts to see how much my smoking has cost me. At least I have all the motivation in the world.
*edit: 12 years not 22.