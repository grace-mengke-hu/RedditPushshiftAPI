I want to TOTALLY quit

Used to smoke for around 10 years. After i quit for 3 years. 0 cigs. Last summer i started here and there and that's how it goes in since then until now. I smoke on weekends, in a company of friends or when im going out. 
Tried to pay attention what are the triggers. I noticed it was alcohol. So i stopped drinking, but when was out on some Gallery Opening of my friend, wanted to smoke too, when he lit it up. 
During week, at work - i  don't want to smoke at all. It's only those social gatherings. I can't get rid of them as a trigger. I wanna be smoke free again, please help what to do. 