I am not a smart man...Didn't smoke for 3 months before running a marathon. So what do I do afterwards?

I called it celebrating... how dumb do you have to be? Anyway, its 3 months on and I smoke pretty much every day now. Resetting my badge (which is a complete lie anyway, I just never deleted it) and starting again from square one. Not Even One! 

I could use help with one thing though, I live with smokers and my girlfriends is one, anyone got any good tips to deal with this?