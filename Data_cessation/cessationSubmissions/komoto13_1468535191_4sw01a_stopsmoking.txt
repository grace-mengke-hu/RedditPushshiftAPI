Smoking ruined my relationship.

I've been a smoker for years and was doing okay at the beginning of last year then kept slipping and telling myself i wasn't a smoker, even though i kept buying packs and smoking them at work. Every time I was slipping and my fiance felt like i was she would ask I would lie. Recently she found out i was lying and that i had been buying a pack almost once a week for the last 6 months. I've come clean about all the times i can recall smoking. It has ruined our relationship and I don't know if we'll recover from all the lying. Mainly this is a warning for anyone who is still struggling to quit, don't lie to your other half about it. They'll be more understanding if you admit you caved and had one.
tl;dr: Don't lie about quitting, be honest.