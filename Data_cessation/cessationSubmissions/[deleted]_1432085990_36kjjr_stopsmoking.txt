How to not smoke when drunk?

Hi all I decided to quit smoking about 2 weeks ago. I lasted 3 days and then I went to play poker with my mates. I resisted offers to smoke at the beginning of the night but I drank more and more beer as the night went on.

I ended up getting put out when I had a pair of queens and there was a AKQJ10 straight on the table (wtf was I thinking haha).

Was pissed off and I caved. Smoked 1 and got a horrible buzz. It just made me the depressed. I haven't smoked at all since then and that was about a week ago.

The problem is I've been sober all week so I've been alert, ready to resist cravings.  But I'm going to a nightclub on Friday and I'm afraid I'll end up smoking when I've had a drink in me. Any tips on how to balance drinking and remaining focused on not smoking? When I go to clubs I often use smoking as a scapegoat to go outside and get a break from the hedonism of nightclubs.