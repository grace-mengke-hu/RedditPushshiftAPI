traumatic experience, then fell off the bandwagon...

So I had a really traumatic experience happen last weekend and I bought a pack. It had been literally months and I fell right back into smoking, no problem. Part of me feels horrible about it and part of me thinks I should cut myself some slack. Does anyone have any advice for when you're dealing with a bad situation? I don't want to start smoking again every time something bad happens to me but this time I (felt like I) really needed it to make me feel better. The worst part is--it DID/DOES make me feel better. 