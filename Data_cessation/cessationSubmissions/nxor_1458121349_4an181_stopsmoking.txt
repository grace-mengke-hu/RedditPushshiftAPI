Resetting

I read Carr's book and was a content non-smoker for almost two weeks (even went out for drinks without thinking about cigarettes!). End of term and lack of sleep is creeping up on me and I had a few puffs of my vaping pen last night. The pen is now in pieces in the bin, but I feel awful and ashamed on failing. Failing after having read Carr's book makes me despair, since it seems like the be-all and end-all of smoking. How do you recuperate after such failures? I was really happy and amazed how well things were going, but I am losing faith in myself.