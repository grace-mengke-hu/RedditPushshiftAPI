Dealing with suicidal thoughts while quitting??

Whenever I quit (I’ve lasted 3 months as my record) during the first week or two I constantly think of suicide. I get hard depression when I quit. When I smoke everything is carefree. When I’m going through withdrawal I will tell myself “just kill yourself in 10 years” you have 10 years to live so nothing matters. And I try to force myself to be positive by telling myself I’ll  commit suicide, not now, but at a later date. Then it just backfires and it’s like ok so everything sucks so why not just smoke now and live a half way decent life as a smoker...

When I smoke again I get pissed for thinking that way... then I just try again. 