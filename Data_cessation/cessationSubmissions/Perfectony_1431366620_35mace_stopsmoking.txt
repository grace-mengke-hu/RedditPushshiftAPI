Feeling really shitty about ruining my progress.

I got sick about 2 and a half weeks ago which made me really reconsider my health and served as the catalyst for me to kick my habit. I didn't smoke for two weeks and I felt really clear-headed, healthier, the whole lot. Just two days ago I was hanging out with a friend and I was feeling sort of down, maybe the withdrawals were kicking in, but I asked her for a cigarette. Since then I've bought a pack and smoked almost all of it. I feel like shit, my throat is dry and scratchy and I'm really bummed because I feel like all of my progress was lost. 

Can anyone share some of their similar experiences to lift my spirits a bit! I'm not buying another pack after this one, I want to kill the habit with a rusty knife, dammit! 