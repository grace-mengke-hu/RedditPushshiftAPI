I just don't figure it out

I've ben smoking for around fifteen years now. I am not very sporty. I started because I was an idiot teenager who thought that trying couldn't be so bad and that I just had to stop before I got addicted ... A year later I figured out that you only know that you're addicted when it's too late.

For many years I smoked one pack a day and sometimes more. Today I'm at around one and a half.  All my attempts to quit smoking failed miserably ... the longest time I was able to quit was around three days and that was in the early years.

The problem was that I just couldn't stop thinking about how much I wanted a cigarette from the moment I started to stop. 

I always come to the point where I am literally not able to do anything else than thinking about how much I wanted a cigarette. I just wasn't able to concentrate on anything.

Things became problematic last year when my wife told me she was pregnant. We wanted it. Becoming a dad is the greatest thing for me and I am replay happy about it. However the moment she told me I panicked. I panicked because I always promised myself that the moment I learned that I was about to become a father, I would immediately stop smoking. But I didn't. I smoked a cigarette 5 minutes later and felt miserable as hell because I failed. 

Since that day everyone around me tells me to quit for the sake of the child. I know they are right ... I tell them they are right. My wife was a casual smoker before but quit smoking months before she got pregnant. She wants me to quit too. She also knows that I hate discussing that with her and that I hate being pressured in that regard.
I told everyone around me that I vowed to myself to be a non smoker when the baby is there.

A couple of weeks ago I had this day for which I planned to quit. The day after my best mans bachelor party. I tells prepared for it, read stories about cancer patients, watched shocking images, built up my motivation by reminding myself of my goals and the advantages of not smoking. 

The morning after the party I was moody already. I didn't want to get out of bed because I knew only struggle waited for me if I stood up. I stood up none the less and the first couple of hours were alright, but then the craving began. My goal was to not follow the urge to get into the car and get a knew pack of cigarettes. I tried to trick me by saying ... I don't actually quit smoking, I quit buying cigarettes.

I cracked up in the afternoon. I told my wife what was going on and why I was so grumpy. We laid down on our bed while I was actually hiding my head under the pillow to make the craving stop. My wife tried to encourage me. I felt the urge to sneeze suddenly ... therefore I opened the drawer of my bed table to get a hanky. There I found a pack of cigarettes. My wife had found the in one of my pants perform putting the pants into the washing machine and for some reason put the. Into that drawer without telling me only a day before. Of course all the rest of my resistance shattered  and  I immediately went out to smoke one.

Since the I wasn't able to bring up the same spirit again. Our child is around one month away from being born. I just had  big fight with my wife who Is angry with me that I didn't manage to stop smoking yet. At the same time i am so frustrated because I'm kind of losing faith that I was even able to quit ... I don't know what to do anymore ... ca you help me?