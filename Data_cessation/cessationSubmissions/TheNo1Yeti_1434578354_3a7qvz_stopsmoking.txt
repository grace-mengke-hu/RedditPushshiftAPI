Handling cravings because of work?

So I do freelance software & web design and one of the things that I always did when I ran into a problem while working was to have a smoke, pace around, and usually by the time I was done I would have the problem figured out. 

Now the minute I have a problem that I don't know the immediate answer to, the craving for a smoke goes through the roof.  Getting up and pacing doesn't help, and it doesn't help me solve the problem any more.  I can't avoid work as I've already lost almost a week to this, and freelances don't have vacation days.

Any suggestions on how to deal with this other than getting a straw and sucking it the fuck up?