Fuck! Back to day 1...

Smoke about 5 a day for last month. I went for days without smoking then caved in last night - went to a bar with friends. I'm so determined to quit for good, but the hardest time to resist is when I'm:

A) at a bar drinking. 

B) playing a gig (im in a band). This is what concerns me the most. I've got one coming up next weekend and it depresses me that I most likely will slip again :(

Any words of advice would be really appreciated 