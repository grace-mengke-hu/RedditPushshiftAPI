How long does it take for erections to improve after quitting smoking?

I have all sorts of bad habits-smoking, bad diet, no exercise, maybe addiction to porn.   I've noticed I have a hard time getting an erection and maintaining it-even when I do it's not fully erect.  I promised myself to stop all the bad habits and start living a healthy lifestyle.  My question though, is how long does it take for erections to come back and the body to recover after quitting smoking? Any of you with similar issue and did it improve after you quit? Is it possible that the damage is permanent (I'm 30, been smoking for 10yrs-heavy smoker)?