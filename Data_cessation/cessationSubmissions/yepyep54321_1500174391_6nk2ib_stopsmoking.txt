Insomnia

Hey all! So, tomorrow I'm stopping smoking. I know, I know "always tomorrow" is never a good mindset, but it's what I'm doing. Anyway, whenever I quit smoking I end up with insomnia - really, really bad insomnia. Either I can't fall asleep or I wake up at 3AM bright eyed and bushy-tailed. I NEED 7 hours a night to be functional as I work all day, then go to school all night. To top it off, I have a desk job so sitting and staring at a computer all day makes me tired regardless of how many hours of sleep I get - so only getting 4 hours makes it that much worse. I have prescription sleeping pills that I can take but they honestly don't make much of a dent when I'm trying to quit smoking. What do I do?! I've heard that nicotine cuts down the half life of caffeine so having caffeine with NO Nicotine greatly increases its effects...but I'm a caffeine addict as well. I'm 2 cup of joe in the morning and one in the afternoon person. I'm also guilty of coffee between work and school so I can push through that additional 3 hours of sitting in class at night. Has anyone had the insomnia troubles? What can help?