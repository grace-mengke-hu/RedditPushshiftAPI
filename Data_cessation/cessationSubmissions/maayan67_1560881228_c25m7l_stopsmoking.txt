Being free from addiction, but at what cost?

I want to be free from addiction.
But at what cost? Im being asked to get away from friends and family since they are smokers and the temptation will cost in a relapse.
I quit smoking six months ago, and my social life suffered a great deal out of it, i got disconnected from my friends and found myself very lonley.. but at least i dont smoke?
I can't see how is it worth it, i may not smoke but my quality of life didn't improve, i just became more and more alone.
Where i live smoking isn't seen as such a gross habit since literally half of us smoke, and the other half learned to not even mind about it
I relapsed a few days ago, and i feel more free than when i was a non smoker for 6 months.
I was free of addiction but not free to do as i please, how is this better?