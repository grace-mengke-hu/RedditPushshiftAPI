I Feel like I'm Out of Control

I haven't considered myself a smoker really because I rarely buy packs. The reason is that my one friend always told me buying packs is how you get addicted. I always bum some off people I hang out with so I don't have to buy one myself, I often offer a dollar for a few. The thing that kills me is that i quit for like 9 months but whenever I'm around smokers it's hard not to. Especially when I'm drunk I smoke a lot of cigs, due to loss of control and smoking goes great with alcohol. The only thing is that I always regret smoking them and I want to stop now. But I don't want to seem like a mooch always bumming cigs. Should I just avoid my friends knowing they smoke or is it something I need to work on with them? Again I rarely smoke cigs if ever, when I'm by myself. Like last night I was drinking and thought I'd trade my beer for a cig from my friend. After that I immediately wanted another one then another. I probably shouldn't have even asked for one because it made me smoke more.