Coughing up loads of phlegm

Smoked for about 2 years/10 a day, and over the past month or two I've been quitting slowly till this point where im a week without one. However, the past two days i've had a really sore throat and am coughing up lots of clear/slightly green phlegm. Whats going on?