Drinking and smoking - I fuck it up every time. I need help on this.

Hey guys, I think many of you might have this same problem. 

I am a completely happy non-smoker. But I have a problem... It went like this:

3 weeks in and I get drunk: I smoke.

2 weeks in and I get drunk: I smoke.

Yesterday I smoked again, although I didn't want to become a drinkersmoker or whatever. I tried it last time when quitting and it doesn't work. 

I want to become a real non-smoker. Like many of you. So my question is, has anybody of you managed to overcome their cigarrette problem while drinking with friends?? I hope so - I really need motivation and nice stories.