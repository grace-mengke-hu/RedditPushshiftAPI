3 years in, how to deal with the headaches from the smell?

Hey all! Quit about three years ago next month, smoked from 16-25. Still dealing with the weight haha. But I'm in a bit of a problem and was hoping that someone here might know what to do.

I still get extreme headaches from the smell of cigs and it's never gone away. Usually its not a big deal since I don't really hang out with smokers very much and if I do its only for an hour or so at a time.

However, in my new class, the guy I'm sitting next to is a big smoker and he's not trying to hide it. And again, that's him, I'm not saying anything bad about that and I don't want to bother him about it, but by the end of class (7am-4pm) I have "hurts to see, going to throw up" migraine level headaches where sometimes I have to sit in the car and wait for advil to kick in to drive home.

Now I know the normal advice would be switch seats, but this guy is hella good at the class we are taking and I really need him as he explains the concepts. We have a really good system going and I don't want to lose that.

So does anyone have advice? Anyone have something that works for them to deal with the headaches? Please let me know! And if this isn't allowed, please let me know!