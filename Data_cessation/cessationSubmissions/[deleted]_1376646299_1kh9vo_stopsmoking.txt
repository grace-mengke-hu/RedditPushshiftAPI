Help me quit. After 6 years. Ive tried so many times.

Hey guys,

So im after having my last smoke and morning coffee, its been 6 years since I started. Mainly when I was newly single, I live in Ireland and I didnt drink or smoke till I was 21 after being in a 4 and a half year relationship. Started drinking and smoking to try meet new people and girls ha, worked out. Only downside is I have kept smoking and drinking, Giving up drinking is ok with me but ive tried to quit smoking for so long. Its my secret shame has none of my family know I smoke and last year my mother died from cancer after a long battle. Shortly after this I went into a depression and just smoked more and drank more. Im doing better now im on meds for the depresson but no matter how hard I try I just cant seem to give up. 

Yesterday really hit me as a shock, I have always been kinda thin but over the last year ive really piled on the pounds. Yesterday I joined the gym and was shocked at how unfit I am, I was out of breath after only 3 mins of jogging. I couldnt do any weights. It shocked me, I was always fit up to the time I started smoking and drinking. Swam every day for 2 hours and ran in maritons with no problems. 

I really need help, I dont want to smoke anymore but I seem to cave so easy. 

TR;DL I cant seem to quit longer than a few days, I need your help, its been 6 years since I started. 