Today's the ultimate test for me

hey there! 
so, today i've hit the 30-days-mark. it's not a year yet, but still some progress. 
however, i've attempted to stop twice in the past and always relapsed after 1-2 months. 

today is the first day of my evening school after a 6-week-long break. i don't know how to stand through what i think is my biggest trigger. in school break, we always went out smoking. all the guys i like are smokers. i've been smoking since 14, so it's kinda obligatory for me to smoke when i'm outside. i don't have social anxiety, but socializing in groups sometimes is hard to bear for me tho (i'm a lone wolf).

i've already overcome the alcohol obstacle (got totally drunk but didn't smoke tho), however there wasn't another smoker around. i'm really scared of collapsing tonight. i've noticed that my brain is already soothing me, "it's not that bad if you relapse, you can always quit again"... and that's the first time in the last 30 days.

can you give me any tips on how to make it through without smoking? should i forgo talking to my friends and rather stay inside alone or should i go outside with them and confront myself with the situation? 

thanks in advance and a strong, nicotinefree day for you all!!! :) 