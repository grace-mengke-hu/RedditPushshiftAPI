Breaking associations and mind tricks

Hi all! I smoked for 10 years and then managed to quit for 16 years . My health improved but I always kept a sort of secret desire or weakness of recourse to a cig in the down/stress moments.

Last month I fell . It was due mainly due to the socio-political instability in my region, and to the stress at work. A pity

I smoked for a month and quit again, achieving 6 day smoke free and relapsed back again. Tried again and reached barely 2 days .

Now I see that I enjoy the taste of the cigs and have built in my mind tricky associations for certain moments . Stressful moments at work, relaxing alone in the evening, and so on. It has became a cope mechanism and also a reward mechanism 

I know in a rational plane that I must quit , but those cope/reward things keep telling the opposite to my brain and my senses 

Do you have any idea to build a stronger mindset ?